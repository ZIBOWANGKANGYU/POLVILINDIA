voteshare_binned$mid=(voteshare_binned$start+voteshare_binned$end)/2
ggplot(data=elections_RD, aes(x=log(BJP_relative), y=num_cycle_beginning))+
geom_smooth(data=elections_RD[elections_RD$BJP_relative<1 & elections_RD$BJP_relative>0.7,], method = "loess")+
geom_smooth(data=elections_RD[elections_RD$BJP_relative>1 & elections_RD$BJP_relative<1.4,], method = "loess")+
geom_vline(xintercept = 0, color="red", size=1)+
xlim(-0.2, 0.2)+
labs(x= "log relative BJP vote share", y= "number of incidents in election cycle (beginning of election)", title="regression discontinuity:\nrelative BJP vote share and cow-related violence")
ggsave("plots/analyses/RD1_beginning.jpg", width =6 )
ggplot(data=elections_RD, aes(x=log(BJP_relative), y=num_cycle_ending))+
geom_smooth(data=elections_RD[elections_RD$BJP_relative<1 & elections_RD$BJP_relative>0.7,], method = "loess")+
geom_smooth(data=elections_RD[elections_RD$BJP_relative>1 & elections_RD$BJP_relative<1.4,], method = "loess")+
geom_vline(xintercept = 0, color="red", size=1)+
xlim(-0.2, 0.2)+
labs(x= "log relative BJP vote share", y= "number of incidents in election cycle (end of election)", title="regression discontinuity:\nrelative BJP vote share and cow-related violence")
ggsave("plots/analyses/RD1_ending.jpg", width =6 )
ggplot(data=elections_RD, aes(x=log(BJP_relative), y=num_cycle_government))+
geom_smooth(data=elections_RD[elections_RD$BJP_relative<1 & elections_RD$BJP_relative>0.7,], method = "loess")+
geom_smooth(data=elections_RD[elections_RD$BJP_relative>1 & elections_RD$BJP_relative<1.4,], method = "loess")+
geom_vline(xintercept = 0, color="red", size=1)+
xlim(-0.2, 0.2)+
labs(x= "log relative BJP vote share", y= "number of incidents in election cycle (government formation)", title="regression discontinuity:\nrelative BJP vote share and cow-related violence")
ggsave("plots/analyses/RD1_government.jpg", width =6 )
ggplot(data=elections_RD, aes(x=log(BJP_relative), y=num_year_beginning))+
geom_smooth(data=elections_RD[elections_RD$BJP_relative<1 & elections_RD$BJP_relative>0.7,], method = "loess")+
geom_smooth(data=elections_RD[elections_RD$BJP_relative>1 & elections_RD$BJP_relative<1.4,], method = "loess")+
geom_vline(xintercept = 0, color="red", size=1)+
labs(x= "log relative BJP vote share", y= "number of incidents in following year (beginning of election)", title="regression discontinuity:\nrelative BJP vote share and cow-related violence")
ggsave("plots/analyses/RD2_beginning.jpg", width =6 )
ggplot(data=elections_RD, aes(x=log(BJP_relative), y=num_year_ending))+
geom_smooth(data=elections_RD[elections_RD$BJP_relative<1 & elections_RD$BJP_relative>0.7,], method = "loess")+
geom_smooth(data=elections_RD[elections_RD$BJP_relative>1 & elections_RD$BJP_relative<1.4,], method = "loess")+
geom_vline(xintercept = 0, color="red", size=1)+
labs(x= "log relative BJP vote share", y= "number of incidents in following year (end of election)", title="regression discontinuity:\nrelative BJP vote share and cow-related violence")
ggsave("plots/analyses/RD2_ending.jpg", width =6 )
ggplot(data=elections_RD, aes(x=log(BJP_relative), y=num_year_government))+
geom_smooth(data=elections_RD[elections_RD$BJP_relative<1 & elections_RD$BJP_relative>0.7,], method = "loess")+
geom_smooth(data=elections_RD[elections_RD$BJP_relative>1 & elections_RD$BJP_relative<1.4,], method = "loess")+
geom_vline(xintercept = 0, color="red", size=1)+
labs(x= "log relative BJP vote share", y= "number of incidents in following year (end of election)", title="regression discontinuity:\nrelative BJP vote share and cow-related violence")
ggsave("plots/analyses/RD2_government.jpg", width =6 )
ggplot(data=voteshare_binned[voteshare_binned$mid>=-0.5 & voteshare_binned$mid<0.6,])+
geom_density(data=elections_RD, aes(x=log(BJP_relative), color="density"), size=1, alpha=0.1)+
geom_line(aes(x=mid, y=20*mean_cycle_beginning, color="number of incidents"), size=1)+
geom_vline(xintercept = 0, color="red", size=1)+
xlim(-0.5, 0.6)+labs(x= "log relative BJP vote share", y= "number of incidents in election cycle", title="regression discontinuity:\nrelative BJP vote share and cow-related violence", caption = "binned average, binsize=0.05")+
scale_y_continuous("density distrbution of vote-share", sec.axis = sec_axis(~ . * 0.05, name = "number of incidents in election cycle"))+
scale_color_manual(values = c("yellow","blue"))
ggplot(data=voteshare_binned[voteshare_binned$mid>=-0.5 & voteshare_binned$mid<0.6,])+
geom_density(data=elections_RD, aes(x=log(BJP_relative), color="density"), size=1, alpha=0.1)+
geom_line(aes(x=mid, y=20*mean_cycle_beginning, color="number of incidents"), size=1)+
geom_vline(xintercept = 0, color="red", size=1)+
xlim(-0.5, 0.6)+labs(x= "log relative BJP vote share", y= "number of incidents in cycle (beginning of election)", title="regression discontinuity:\nrelative BJP vote share and cow-related violence", caption = "binned average, binsize=0.05")+
scale_y_continuous("density distrbution of vote-share", sec.axis = sec_axis(~ . * 0.05, name = "number of incidents in cycle (beginning of election)"))+
scale_color_manual(values = c("yellow","blue"))
ggplot(data=voteshare_binned[voteshare_binned$mid>=-0.5 & voteshare_binned$mid<0.6,])+
geom_density(data=elections_RD, aes(x=log(BJP_relative), color="density"), size=1, alpha=0.1)+
geom_line(aes(x=mid, y=20*mean_cycle_ending, color="number of incidents"), size=1)+
geom_vline(xintercept = 0, color="red", size=1)+
xlim(-0.5, 0.6)+labs(x= "log relative BJP vote share", y= "number of incidents cycle (end of election)", title="regression discontinuity:\nrelative BJP vote share and cow-related violence", caption = "binned average, binsize=0.05")+
scale_y_continuous("density distrbution of vote-share", sec.axis = sec_axis(~ . * 0.05, name = "number of incidents in cycle (end of election)"))+
scale_color_manual(values = c("yellow","blue"))
ggplot(data=voteshare_binned[voteshare_binned$mid>=-0.5 & voteshare_binned$mid<0.6,])+
geom_density(data=elections_RD, aes(x=log(BJP_relative), color="density"), size=1, alpha=0.1)+
geom_line(aes(x=mid, y=20*mean_cycle_government, color="number of incidents"), size=1)+
geom_vline(xintercept = 0, color="red", size=1)+
xlim(-0.5, 0.6)+labs(x= "log relative BJP vote share", y= "number of incidents cycle (end of election)", title="regression discontinuity:\nrelative BJP vote share and cow-related violence", caption = "binned average, binsize=0.05")+
scale_y_continuous("density distrbution of vote-share", sec.axis = sec_axis(~ . * 0.05, name = "number of incidents in cycle (end of election)"))+
scale_color_manual(values = c("yellow","blue"))
ggsave("plots/analyses/RD3.jpg", width =7 )
ggplot(data=elections_RD, x=year, y=log(BJP_relative))+geom_point()+geom_smooth()
ggplot(data=elections_RD, aes(x=year, y=log(BJP_relative)))+geom_point()+geom_smooth()
ggplot(data=elections_RD[is.na(elections_RD$BJP_relative)==FALSE,], aes(x=year, y=log(BJP_relative)))+geom_point()+geom_smooth()
ggplot(data=elections_RD[is.na(elections_RD$BJP_relative)==FALSE,], aes(x=date_beginning, y=log(BJP_relative)))+geom_point()+geom_smooth()
ggplot(data=elections_RD[is.na(elections_RD$BJP_relative)==FALSE,], aes(x=date_begining, y=log(BJP_relative)))+geom_point()+geom_smooth()
ggplot(data=elections_RD[is.na(elections_RD$BJP_relative)==FALSE,], aes(x=date_begining, y=log(BJP_relative)))+geom_point()+geom_smooth()+labs(x="beginning of election", y="VS", title="Temporal pattern of VS")
ggsave("plots/analyses/VS_temporal.jpg", width =6 )
ggplot(data=voteshare_binned[voteshare_binned$mid>=-0.5 & voteshare_binned$mid<0.6,])+
geom_density(data=elections_RD, aes(x=log(BJP_relative), color="density"), size=1, alpha=0.1)+
geom_line(aes(x=mid, y=20*mean_cycle_beginning, color="number of incidents"), size=1)+
geom_vline(xintercept = 0, color="red", size=1)+
xlim(-0.5, 0.6)+labs(x= "log relative BJP vote share", y= "number of incidents in cycle (beginning of election)", title="regression discontinuity:\nrelative BJP vote share and cow-related violence", caption = "binned average, binsize=0.05")+
scale_y_continuous("density distrbution of vote-share", sec.axis = sec_axis(~ . * 0.05, name = "number of incidents in cycle (beginning of election)"))+
scale_color_manual(values = c("yellow","blue"))
ggplot(data=voteshare_binned[voteshare_binned$mid>=-0.5 & voteshare_binned$mid<0.6,])+
geom_density(data=elections_RD, aes(x=log(BJP_relative), color="density"), size=1, alpha=0.1)+
geom_line(aes(x=mid, y=20*mean_cycle_beginning, color="number of incidents"), size=1)+
geom_vline(xintercept = 0, color="red", size=1)+
xlim(-0.5, 0.6)+labs(x= "log relative BJP vote share", y= "number of incidents in election cycle", title="regression discontinuity:\nrelative BJP vote share and cow-related violence", caption = "binned average, binsize=0.05")+
scale_y_continuous("density distrbution of vote-share", sec.axis = sec_axis(~ . * 0.05, name = "number of incidents in election cycle"))+
scale_color_manual(values = c("yellow","blue"))
ggsave("plots/analyses/RD3.jpg", width =7 )
ggplot(data=voteshare_binned[voteshare_binned$mid>=-0.5 & voteshare_binned$mid<0.6,])+
geom_density(data=elections_RD, aes(x=log(BJP_relative), color="density"), size=1, alpha=0.1)+
geom_line(aes(x=mid, y=20*mean_cycle_beginning, color="number of incidents"), size=1)+
geom_vline(xintercept = 0, color="red", size=1)+
xlim(-0.5, 0.6)+labs(x= "log relative BJP vote share", y= "number of incidents in cycle (beginning of election)", title="regression discontinuity:\nrelative BJP vote share and cow-related violence", caption = "binned average, binsize=0.05")+
scale_y_continuous("density distrbution of vote-share", sec.axis = sec_axis(~ . * 0.05, name = "number of incidents in cycle (beginning of election)"))+
scale_color_manual(values = c("yellow","blue"))
ggsave("plots/analyses/RD3_beginning.jpg", width =7 )
ggplot(data=voteshare_binned[voteshare_binned$mid>=-0.5 & voteshare_binned$mid<0.6,])+
geom_density(data=elections_RD, aes(x=log(BJP_relative), color="density"), size=1, alpha=0.1)+
geom_line(aes(x=mid, y=20*mean_cycle_ending, color="number of incidents"), size=1)+
geom_vline(xintercept = 0, color="red", size=1)+
xlim(-0.5, 0.6)+labs(x= "log relative BJP vote share", y= "number of incidents cycle (end of election)", title="regression discontinuity:\nrelative BJP vote share and cow-related violence", caption = "binned average, binsize=0.05")+
scale_y_continuous("density distrbution of vote-share", sec.axis = sec_axis(~ . * 0.05, name = "number of incidents in cycle (end of election)"))+
scale_color_manual(values = c("yellow","blue"))
ggsave("plots/analyses/RD3_ending.jpg", width =7 )
ggplot(data=voteshare_binned[voteshare_binned$mid>=-0.5 & voteshare_binned$mid<0.6,])+
geom_density(data=elections_RD, aes(x=log(BJP_relative), color="density"), size=1, alpha=0.1)+
geom_line(aes(x=mid, y=20*mean_cycle_government, color="number of incidents"), size=1)+
geom_vline(xintercept = 0, color="red", size=1)+
xlim(-0.5, 0.6)+labs(x= "log relative BJP vote share", y= "number of incidents cycle (end of election)", title="regression discontinuity:\nrelative BJP vote share and cow-related violence", caption = "binned average, binsize=0.05")+
scale_y_continuous("density distrbution of vote-share", sec.axis = sec_axis(~ . * 0.05, name = "number of incidents in cycle (end of election)"))+
scale_color_manual(values = c("yellow","blue"))
ggsave("plots/analyses/RD3_government.jpg", width =7 )
ggplot(data=voteshare_binned[voteshare_binned$mid>=-0.5 & voteshare_binned$mid<0.6,])+
geom_density(data=elections_RD, aes(x=log(BJP_relative), color="density"), size=1, alpha=0.1)+
geom_line(aes(x=mid, y=20*mean_year_beginning, color="number of incidents"), size=1)+
geom_vline(xintercept = 0, color="red", size=1)+
xlim(-0.5, 0.6)+labs(x= "log relative BJP vote share", y= "number of incidents in cycle (beginning of election)", title="regression discontinuity:\nrelative BJP vote share and cow-related violence", caption = "binned average, binsize=0.05")+
scale_y_continuous("density distrbution of vote-share", sec.axis = sec_axis(~ . * 0.05, name = "number of incidents in cycle (beginning of election)"))+
scale_color_manual(values = c("yellow","blue"))
ggplot(data=voteshare_binned[voteshare_binned$mid>=-0.5 & voteshare_binned$mid<0.6,])+
geom_density(data=elections_RD, aes(x=log(BJP_relative), color="density"), size=1, alpha=0.1)+
geom_line(aes(x=mid, y=20*mean_year_beginning, color="number of incidents"), size=1)+
geom_vline(xintercept = 0, color="red", size=1)+
xlim(-0.5, 0.6)+labs(x= "log relative BJP vote share", y= "number of incidents in following year (beginning of election)", title="regression discontinuity:\nrelative BJP vote share and cow-related violence", caption = "binned average, binsize=0.05")+
scale_y_continuous("density distrbution of vote-share", sec.axis = sec_axis(~ . * 0.05, name = "number of incidents in following year (beginning of election)"))+
scale_color_manual(values = c("yellow","blue"))
ggsave("plots/analyses/RD4_beginning.jpg", width =7 )
ggplot(data=voteshare_binned[voteshare_binned$mid>=-0.5 & voteshare_binned$mid<0.6,])+
geom_density(data=elections_RD, aes(x=log(BJP_relative), color="density"), size=1, alpha=0.1)+
geom_line(aes(x=mid, y=20*mean_year_ending, color="number of incidents"), size=1)+
geom_vline(xintercept = 0, color="red", size=1)+
xlim(-0.5, 0.6)+labs(x= "log relative BJP vote share", y= "number of incidents in following year (end of election)", title="regression discontinuity:\nrelative BJP vote share and cow-related violence", caption = "binned average, binsize=0.05")+
scale_y_continuous("density distrbution of vote-share", sec.axis = sec_axis(~ . * 0.05, name = "number of incidents in following year (beginning of election)"))+
scale_color_manual(values = c("yellow","blue"))
ggplot(data=voteshare_binned[voteshare_binned$mid>=-0.5 & voteshare_binned$mid<0.6,])+
geom_density(data=elections_RD, aes(x=log(BJP_relative), color="density"), size=1, alpha=0.1)+
geom_line(aes(x=mid, y=20*mean_year_ending, color="number of incidents"), size=1)+
geom_vline(xintercept = 0, color="red", size=1)+
xlim(-0.5, 0.6)+labs(x= "log relative BJP vote share", y= "number of incidents in following year (end of election)", title="regression discontinuity:\nrelative BJP vote share and cow-related violence", caption = "binned average, binsize=0.05")+
scale_y_continuous("density distrbution of vote-share", sec.axis = sec_axis(~ . * 0.05, name = "number of incidents in following year (end of election)"))+
scale_color_manual(values = c("yellow","blue"))
ggsave("plots/analyses/RD4_ending.jpg", width =7 )
ggplot(data=voteshare_binned[voteshare_binned$mid>=-0.5 & voteshare_binned$mid<0.6,])+
geom_density(data=elections_RD, aes(x=log(BJP_relative), color="density"), size=1, alpha=0.1)+
geom_line(aes(x=mid, y=20*mean_year_government, color="number of incidents"), size=1)+
geom_vline(xintercept = 0, color="red", size=1)+
xlim(-0.5, 0.6)+labs(x= "log relative BJP vote share", y= "number of incidents in following year (formation of government)", title="regression discontinuity:\nrelative BJP vote share and cow-related violence", caption = "binned average, binsize=0.05")+
scale_y_continuous("density distrbution of vote-share", sec.axis = sec_axis(~ . * 0.05, name = "number of incidents in following year (formation of government)"))+
scale_color_manual(values = c("yellow","blue"))
ggsave("plots/analyses/RD4_government.jpg", width =7 )
ggplot(data=voteshare_binned[voteshare_binned$mid>=-0.5 & voteshare_binned$mid<0.6,])+
geom_density(data=elections_RD, aes(x=log(BJP_relative), color="density"), size=1, alpha=0.1)+
geom_line(aes(x=mid, y=20*mean_cycle_government, color="number of incidents"), size=1)+
geom_vline(xintercept = 0, color="red", size=1)+
xlim(-0.5, 0.6)+labs(x= "log relative BJP vote share", y= "number of incidents cycle (government formation)", title="regression discontinuity:\nrelative BJP vote share and cow-related violence", caption = "binned average, binsize=0.05")+
scale_y_continuous("density distrbution of vote-share", sec.axis = sec_axis(~ . * 0.05, name = "number of incidents in cycle (government formation)"))+
scale_color_manual(values = c("yellow","blue"))
ggsave("plots/analyses/RD3_government.jpg", width =7 )
class(elections_RD$number_year_beginning)
ggplot(data=elections_RD, aes(x=log(BJP_relative), y=num_year_ending))+
geom_smooth(data=elections_RD[elections_RD$BJP_relative<1 & elections_RD$BJP_relative>0.7,], method = "loess")+
geom_smooth(data=elections_RD[elections_RD$BJP_relative>1 & elections_RD$BJP_relative<1.4,], method = "loess")+
geom_vline(xintercept = 0, color="red", size=1)+
labs(x= "log relative BJP vote share", y= "number of incidents in following year (end of election)", title="regression discontinuity:\nrelative BJP vote share and cow-related violence")
class(elections_RD$num_year_beginning)
class(elections_RD$year)
elections_RD$year<-as.factor(elections_RD$year)
try<-glm(number_year_beginning ~ year, data=elections_RD, family = binomial)
try<-glm(num_year_beginning ~ year, data=elections_RD, family = binomial)
summary(try)
try<-glm(num_year_beginning ~ log(BJP_relative) + year + , data=elections_RD, family = binomial)
try<-glm(num_year_beginning ~ log(BJP_relative) + year , data=elections_RD, family = binomial)
summary(try)
class(elections_RD$ac_nm)
elections_RD$ac_nm<-as.factor(elections_RD$ac_nm)
try<-glm(num_year_beginning ~ log(BJP_relative) + year + ac_rm , data=elections_RD, family = binomial)
try<-glm(num_year_beginning ~ log(BJP_relative) + year + ac_nm , data=elections_RD, family = binomial)
elections_RD$occur_year_beginning<-elections_RD$num_year_beginning>0
elections_RD$BJP_winning<-elections_RD$winning_party=="BJP"
try<-glm(occur_year_beginning ~ log(BJP_relative) + year + ac_nm + BJP_winning , data=elections_RD, family = binomial)
elections_RD$VS<-log(elections_RD$BJP_relative)
try<-glm(occur_year_beginning ~ poly(VS) + year + ac_nm + BJP_winning , data=elections_RD, family = binomial)
try<-glm(occur_year_beginning ~ poly(VS, 3) + year + ac_nm + BJP_winning , data=elections_RD, family = binomial)
try<-glm(occur_year_beginning ~ poly(VS, 3) + year + ac_nm + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
try<-glm(occur_year_beginning ~ poly(VS, 4) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
summary(try)
library(survival)
model2<-glm(occur_year_beginning ~ poly(VS, 4) + year + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
elections_RD$occur_cycle_beginning<-elections_RD$num_cycle_beginning>0
model4<-glm(occur_cycle_beginning ~ poly(VS, 4) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model5<-glm(occur_cycle_beginning ~ poly(VS, 4) + year + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
summary(model5)
summary(model2)
summary(model4)
# Analysis
library(xlsx)
library(ggplot2)
library(sf)
library(plyr)
library(dplyr)
library(tmap)
library(cobalt)
library(reshape2)
library(data.table)
library(zoo)
library(survival)
Sys.setlocale("LC_TIME", "English")
Sys.setenv(LANG = "en_US.UTF-8")
model1<-glm(occur_year_beginning ~ poly(VS, 2) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model2<-glm(occur_year_beginning ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model3<-glm(occur_cycle_beginning ~ poly(VS, 2) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model4<-glm(occur_cycle_beginning ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
library(stargazer)
stargazer(model1, model2, model3, model4, type="html", out="plots/analyses/regression1.html")
stargazer(model1, model2, model3, model4,
keep=c(1, 2, 11, 12),
covariate.labels = c("VS", "VS squared", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
type="html", out="plots/analyses/regression1.html")
stargazer(model1, model2, model3, model4,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
type="html", out="plots/analyses/regression1.html")
stargazer(model1, model2, model3, model4,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
type="html", out="plots/analyses/regression1.html")
stargazer(model1, model2, model3, model4,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("incidents in following year", "incidents in following cycle"),
type="html", out="plots/analyses/regression1.html")
model3<-glm(occur_cycle_beginning ~ poly(VS, 2) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
summarise(model3)
summary(model3)
model3<-glm(occur_cycle_beginning ~ poly(VS, 4) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
summary(model3)
stargazer(model1, model2, model3, model4,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("Incidents in following year", "Incidents in following cycle"),
type="html", out="plots/analyses/regression1.html")
stargazer(model1_1, model2_1, model3_1, model4_1,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("Incidents in following year", "Incidents in following cycle"),
title="robust check: end of election",
type="html", out="plots/analyses/regression2.html")
model1_1<-glm(occur_year_ending ~ poly(VS, 2) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model2_1<-glm(occur_year_ending ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model3_1<-glm(occur_cycle_ending ~ poly(VS, 4) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model4_1<-glm(occur_cycle_ending ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
stargazer(model1_1, model2_1, model3_1, model4_1,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("Incidents in following year", "Incidents in following cycle"),
title="robust check: end of election",
type="html", out="plots/analyses/regression2.html")
elections_RD$occur_year_ending<-elections_RD$num_year_ending>0
elections_RD$occur_cycle_ending<-elections_RD$num_cycle_ending>0
model1_1<-glm(occur_year_ending ~ poly(VS, 2) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model2_1<-glm(occur_year_ending ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model3_1<-glm(occur_cycle_ending ~ poly(VS, 4) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model4_1<-glm(occur_cycle_ending ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
stargazer(model1_1, model2_1, model3_1, model4_1,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("Incidents in following year", "Incidents in following cycle"),
title="robust check: end of election",
type="html", out="plots/analyses/regression2.html")
stargazer(model1_1, model2_1, model3_1, model4_1,
#keep=c(1, 2,3, 11, 12),
#covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("Incidents in following year", "Incidents in following cycle"),
title="robust check: end of election",
type="html", out="plots/analyses/regression2.html")
model1_1<-glm(occur_year_ending ~ poly(VS, 2) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model2_1<-glm(occur_year_ending ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model3_1<-glm(occur_cycle_ending ~ poly(VS, 2) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model4_1<-glm(occur_cycle_ending ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
stargazer(model1_1, model2_1, model3_1, model4_1,
#keep=c(1, 2,3, 11, 12),
#covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("Incidents in following year", "Incidents in following cycle"),
title="robust check: end of election",
type="html", out="plots/analyses/regression2.html")
stargazer(model1_1, model2_1, model3_1, model4_1,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("Incidents in following year", "Incidents in following cycle"),
title="robust check: end of election",
type="html", out="plots/analyses/regression2.html")
elections_RD$occur_year_government<-elections_RD$num_year_government>0
elections_RD$occur_cycle_government<-elections_RD$num_cycle_government>0
model1_2<-glm(occur_year_ending ~ poly(VS, 2) + BJP_government , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model2_2<-glm(occur_year_ending ~ poly(VS, 2) + year + BJP_government , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model3_2<-glm(occur_cycle_ending ~ poly(VS, 2) + BJP_government , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model4_2<-glm(occur_cycle_ending ~ poly(VS, 2) + year + BJP_government , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
stargazer(model1_2, model2_2, model3_2, model4_2,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("Incidents in following year", "Incidents in following cycle"),
title="robust check: formation of government",
type="html", out="plots/analyses/regression2.html")
model1_2<-glm(occur_year_government ~ poly(VS, 2) + BJP , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model1_2<-glm(occur_year_government ~ poly(VS, 2) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model2_2<-glm(occur_year_government ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model3_2<-glm(occur_cycle_government ~ poly(VS, 2) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model4_2<-glm(occur_cycle_government ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
stargazer(model1_2, model2_2, model3_2, model4_2,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("Incidents in following year", "Incidents in following cycle"),
title="robust check: formation of government",
type="html", out="plots/analyses/regression2.html")
model1<-glm(occur_year_beginning ~ poly(VS, 2) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model2<-glm(occur_year_beginning ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model3<-glm(occur_cycle_beginning ~ poly(VS, 4) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model4<-glm(occur_cycle_beginning ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
stargazer(model1, model2, model3, model4,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("Incidents in following year", "Incidents in following cycle"),
type="html", out="plots/analyses/regression1.html")
model1_1<-glm(occur_year_ending ~ poly(VS, 2) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model2_1<-glm(occur_year_ending ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model3_1<-glm(occur_cycle_ending ~ poly(VS, 2) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model4_1<-glm(occur_cycle_ending ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
stargazer(model1_1, model2_1, model3_1, model4_1,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("Incidents in following year", "Incidents in following cycle"),
title="robust check: end of election",
type="html", out="plots/analyses/regression2.html")
model1_2<-glm(occur_year_government ~ poly(VS, 2) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model2_2<-glm(occur_year_government ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model3_2<-glm(occur_cycle_government ~ poly(VS, 2) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
model4_2<-glm(occur_cycle_government ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
stargazer(model1_2, model2_2, model3_2, model4_2,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("Incidents in following year", "Incidents in following cycle"),
title="robust check: formation of government",
type="html", out="plots/analyses/regression3.html")
model3<-glm(occur_cycle_beginning ~ poly(VS, 4) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
summary(model3)
model3<-glm(occur_cycle_beginning ~ poly(VS, 2) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
summary(model3)
model3<-glm(occur_cycle_beginning ~ poly(VS, 3) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
summary(model3)
model3<-glm(occur_cycle_beginning ~ poly(VS, 4) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
summary(model3)
model3<-glm(occur_cycle_beginning ~ poly(VS, 5) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
summary(model3)
model3<-glm(occur_cycle_beginning ~ poly(VS, 6) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
summary(model3)
View(elections_RD)
sum(log(elections_RD$VS)>=-0.2 & log(elections_RD$VS)<=0.2)
sum(log(elections_RD$VS)>=-0.2 & log(elections_RD$VS)<=0.2, na.rm = TRUE)
sum(is.na(elections_RD$VS)==FALSE)
sum(elections_RD$VS>=-0.2 & elections_RD$VS<=0.2, na.rm = TRUE)
model3<-glm(occur_cycle_beginning ~ poly(VS, 2) + BJP_winning , data=elections_RD[is.na(elections_RD$VS)==FALSE,], family = binomial)
View(population_district_total)
population_district_total$lynching<-population_district_total$district_code%in%lynchings_date_combined$district_code
population_district_total<-population_district[population_district$residential_type=="Total",]
population_district_total$lynching<-population_district_total$district_code%in%lynchings_date_combined$district_code
population_district_total$population_Hindu_total<-as.numeric(as.character(population_district_total$population_Hindu_total))
population_district_total$population_total<-as.numeric(as.character(population_district_total$population_total))
population_district_total$Hindu_proportion<-population_district_total$population_Hindu_total/population_district_total$population_total
population_district_total$population_Muslim_total<-as.numeric(as.character(population_district_total$population_Muslim_total))
population_district_total$Muslim_proportion<-population_district_total$population_Muslim_total/population_district_total$population_total
population_district_total$attending_rate_total<-population_district_total$
t.test(population_district_total$Hindu_proportion~population_district_total$lynching)
t.test(population_district_total$Muslim_proportion~population_district_total$lynching)
t.test(population_district_total$attending_rate_total~population_district_total$lynching)
t.test(population_district_total$attending_rate_female~population_district_total$lynching)
t.test(population_district_total$equip_rate~population_district_total$lynching)
t.test(population_district_total$SC_rate~population_district_total$lynching)
t.test(population_district_total$ST_rate~population_district_total$lynching)
t.test(population_district_total$urb_rate~population_district_total$lynching)
population_district_total<-merge(population_district_total, education_district%>%select("district_code", "attending_rate_total", "attending_rate_female"), by="district_code")
population_district_total<-merge(population_district_total, population_district_household%>%select(c("district_code", "equip_rate")), by="district_code", all.x = TRUE)
population_district_total<-merge(population_district_total, caste, by="district_code", all.x = TRUE)
population_district_total<-merge(population_district_total, tribe, by="district_code", all.x = TRUE)
population_district_total$SC_rate<-population_district_total$SC_pop/population_district_total$population_total
population_district_total$ST_rate<-population_district_total$ST_pop/population_district_total$population_total
t.test(population_district_total$Hindu_proportion~population_district_total$lynching)
t.test(population_district_total$Muslim_proportion~population_district_total$lynching)
t.test(population_district_total$attending_rate_total~population_district_total$lynching)
t.test(population_district_total$attending_rate_female~population_district_total$lynching)
t.test(population_district_total$equip_rate~population_district_total$lynching)
t.test(population_district_total$SC_rate~population_district_total$lynching)
t.test(population_district_total$ST_rate~population_district_total$lynching)
t.test(population_district_total$urb_rate~population_district_total$lynching)
population_district_total<-merge(population_district_total, population_district_urbanization%>%select(c("district_code", "urb_rate")), by="district_code", all.x=TRUE)
t.test(population_district_total$urb_rate~population_district_total$lynching)
t.test(population_district_total$attending_rate_total~population_district_total$lynching)
save.image("C:/Users/kangyuwang/OneDrive/ucsd research/political violence in India/.RData")
# read census data
# 2011 census population
detach(package:openxlsx)
library(xlsx)
library(ggplot2)
library(sf)
library(dplyr)
library(tmap)
library(openxlsx)
Sys.setlocale("LC_TIME", "English")
Sys.setenv(LANG = "en_US.UTF-8")
model1<-glm(occur_year_beginning ~ poly(VS, 2) + BJP_winning , data=elections_RD[abs(elections_RD$VS)<=0.2 & is.na(elections_RD$VS)==FALSE,], family = binomial)
summary(model1)
model2<-glm(occur_year_beginning ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[abs(elections_RD$VS)<=0.2 & is.na(elections_RD$VS)==FALSE,], family = binomial)
summary(model2)
model3<-glm(occur_cycle_beginning ~ poly(VS, 2) + BJP_winning , data=elections_RD[abs(elections_RD$VS)<=0.2 & is.na(elections_RD$VS)==FALSE,], family = binomial)
summary(model3)
model4<-glm(occur_cycle_beginning ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[abs(elections_RD$VS)<=0.2 & is.na(elections_RD$VS)==FALSE,], family = binomial)
summary(model4)
model1<-glm(occur_year_beginning ~ poly(VS, 2) + BJP_winning , data=elections_RD[abs(elections_RD$VS)<=0.2 & is.na(elections_RD$VS)==FALSE,], family = binomial)
model2<-glm(occur_year_beginning ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[abs(elections_RD$VS)<=0.2 & is.na(elections_RD$VS)==FALSE,], family = binomial)
model3<-glm(occur_cycle_beginning ~ poly(VS, 2) + BJP_winning , data=elections_RD[abs(elections_RD$VS)<=0.2 & is.na(elections_RD$VS)==FALSE,], family = binomial)
model4<-glm(occur_cycle_beginning ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[abs(elections_RD$VS)<=0.2 & is.na(elections_RD$VS)==FALSE,], family = binomial)
stargazer(model1, model2, model3, model4,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("Incidents in following year", "Incidents in following cycle"),
type="html", out="plots/analyses/regression1.html")
model1_1<-glm(occur_year_ending ~ poly(VS, 2) + BJP_winning , data=elections_RD[abs(elections_RD$VS)<=0.2 & is.na(elections_RD$VS)==FALSE,], family = binomial)
model2_1<-glm(occur_year_ending ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[abs(elections_RD$VS)<=0.2 & is.na(elections_RD$VS)==FALSE,], family = binomial)
model3_1<-glm(occur_cycle_ending ~ poly(VS, 2) + BJP_winning , data=elections_RD[abs(elections_RD$VS)<=0.2 & is.na(elections_RD$VS)==FALSE,], family = binomial)
model4_1<-glm(occur_cycle_ending ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[abs(elections_RD$VS)<=0.2 & is.na(elections_RD$VS)==FALSE,], family = binomial)
stargazer(model1_1, model2_1, model3_1, model4_1,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("Incidents in following year", "Incidents in following cycle"),
title="robust check: end of election",
type="html", out="plots/analyses/regression2.html")
model1_2<-glm(occur_year_government ~ poly(VS, 2) + BJP_winning , data=elections_RD[abs(elections_RD$VS)<=0.2 & is.na(elections_RD$VS)==FALSE,], family = binomial)
model2_2<-glm(occur_year_government ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[abs(elections_RD$VS)<=0.2 & is.na(elections_RD$VS)==FALSE,], family = binomial)
model3_2<-glm(occur_cycle_government ~ poly(VS, 2) + BJP_winning , data=elections_RD[abs(elections_RD$VS)<=0.2 & is.na(elections_RD$VS)==FALSE,], family = binomial)
model4_2<-glm(occur_cycle_government ~ poly(VS, 2) + year + BJP_winning , data=elections_RD[abs(elections_RD$VS)<=0.2 & is.na(elections_RD$VS)==FALSE,], family = binomial)
stargazer(model1_2, model2_2, model3_2, model4_2,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("Incidents in following year", "Incidents in following cycle"),
title="robust check: formation of government",
type="html", out="plots/analyses/regression3.html")
library(stargazer)
stargazer(model1, model2, model3, model4,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("Incidents in following year", "Incidents in following cycle"),
type="html", out="plots/analyses/regression1.html")
stargazer(model1_1, model2_1, model3_1, model4_1,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("Incidents in following year", "Incidents in following cycle"),
title="robust check: end of election",
type="html", out="plots/analyses/regression2.html")
stargazer(model1_2, model2_2, model3_2, model4_2,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("Incidents in following year", "Incidents in following cycle"),
title="robust check: formation of government",
type="html", out="plots/analyses/regression3.html")
stargazer(model1, model2, model3, model4,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("Year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("Incidents in following year", "Incidents in following cycle"),
type="html", out="plots/analyses/regression1.html")
stargazer(model1_1, model2_1, model3_1, model4_1,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("Year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("Incidents in following year", "Incidents in following cycle"),
title="robust check: end of election",
type="html", out="plots/analyses/regression2.html")
stargazer(model1_2, model2_2, model3_2, model4_2,
keep=c(1, 2,3, 11, 12),
covariate.labels = c("VS", "VS squared", "", "BJP winning", "Constant"),
add.lines = list(c("Year fixed effect", "Yes", "No", "Yes", "No")),
dep.var.labels = c("Incidents in following year", "Incidents in following cycle"),
title="robust check: formation of government",
type="html", out="plots/analyses/regression3.html")
sum(elections_RD$occur_cycle_beginning[abs(elections_RD$VS)<=0.2 & is.na(elections_RD$VS)==FALSE])
library("XML", lib.loc="~/R/win-library/3.4")
library("rvest", lib.loc="~/R/win-library/3.4")
webpage <- read_html("http://results.eci.gov.in/pc/en/constituencywise/ConstituencywiseS2418.htm?ac=18")
